<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>–°—Ç–æ–ª–∏–∫–∏</title>
    <style>
      :root {
        color-scheme: dark;
      }

      body {
        margin: 0;
        padding: 20px;
        font-family: "Segoe UI", sans-serif;
        background-color: var(--tg-theme-bg-color, #121212);
        color: var(--tg-theme-text-color, #ffffff);
      }

      h1 {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 16px;
      }

      .card {
        background-color: var(--tg-theme-secondary-bg-color, #1f1f1f);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .card img {
        width: 100%;
        height: 100px;
        object-fit: cover;
      }

      .card-content {
        padding: 12px;
        flex-grow: 1;
      }

      .card h2 {
        font-size: 16px;
        margin: 0 0 6px 0;
      }

      .card p {
        font-size: 13px;
        color: var(--tg-theme-hint-color, #aaaaaa);
        margin: 0 0 12px 0;
      }

      .card button {
        margin: 0 12px 12px;
        height: 36px;
        background-color: #438eff;
        color: white;
        border: none;
        border-radius: 10px;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .card button:hover {
        background-color: #2e74d1;
      }

      /* –ù–æ–≤–∞—è —Ñ–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
      #booking-form-container {
        margin-top: 30px;
        padding: 20px;
        background-color: var(--tg-theme-secondary-bg-color, #1f1f1f);
        border-radius: 16px;
        display: none;
      }

      #booking-form label {
        display: block;
        margin: 15px 0 5px;
      }

      #booking-form input,
      #booking-form select {
        width: 100%;
        padding: 8px;
        border-radius: 6px;
        border: none;
        background-color: #333;
        color: #eee;
        font-size: 14px;
      }

      #booking-form button {
        margin-top: 20px;
        padding: 12px;
        background: #d33;
        color: white;
        font-weight: bold;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-size: 16px;
        width: 100%;
      }

      #booking-form button:disabled {
        background: #555;
        cursor: not-allowed;
      }

      #message {
        margin-top: 15px;
        font-size: 1.1em;
        color: #aaffaa;
      }
    </style>
  </head>
  <body>
    <h1>üçΩÔ∏è –°—Ç–æ–ª–∏–∫–∏</h1>
    <div class="grid">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–æ–ª–æ–≤ -->
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 1" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 1</h2>
          <p>–°—Ç–æ–ª–∏–∫ —Å –¥–∏–≤–∞–Ω–æ–º —É –æ–∫–Ω–∞</p>
        </div>
        <button data-table="1">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 2" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 2</h2>
          <p>–£—é—Ç–Ω—ã–π —Å—Ç–æ–ª–∏–∫ –Ω–∞ –¥–≤–æ–∏—Ö</p>
        </div>
        <button data-table="2">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 3" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 3</h2>
          <p>–£ –æ–∫–Ω–∞, –Ω–∞ 4 –ø–µ—Ä—Å–æ–Ω—ã</p>
        </div>
        <button data-table="3">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 4" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 4</h2>
          <p>–†—è–¥–æ–º —Å –±–∞—Ä–Ω–æ–π —Å—Ç–æ–π–∫–æ–π</p>
        </div>
        <button data-table="4">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 5" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 5</h2>
          <p>–°—Ç–æ–ª–∏–∫ —Å –¥–∏–≤–∞–Ω–æ–º</p>
        </div>
        <button data-table="5">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 6" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 6</h2>
          <p>–î–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ 6 —á–µ–ª–æ–≤–µ–∫</p>
        </div>
        <button data-table="6">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 7" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 7</h2>
          <p>–£ –æ–∫–Ω–∞, —Ä—è–¥–æ–º —Å —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏</p>
        </div>
        <button data-table="7">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 8" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 8</h2>
          <p>–í –≥–ª—É–±–∏–Ω–µ –∑–∞–ª–∞</p>
        </div>
        <button data-table="8">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="card">
        <img src="/images/tabel1.jpg" alt="–°—Ç–æ–ª 9" />
        <div class="card-content">
          <h2>–°—Ç–æ–ª 9</h2>
          <p>–û–∫—Ä—É–∂—ë–Ω –º—è–≥–∫–∏–º–∏ –∫—Ä–µ—Å–ª–∞–º–∏</p>
        </div>
        <button data-table="9">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
    </div>

    <!-- –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div id="booking-form-container">
      <h2>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–∏–∫–∞ <span id="selected-table"></span></h2>
      <form id="booking-form">
        <label for="date">–î–∞—Ç–∞</label>
        <input type="date" id="date" required />

        <label for="time">–í—Ä–µ–º—è</label>
        <select id="time" required></select>

        <label for="guests">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π</label>
        <input type="number" id="guests" min="1" max="20" value="1" required />

        <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –±—Ä–æ–Ω—å</button>
      </form>
      <div id="message"></div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js?59"></script>
    <script>
      // –ó–∞–ø–æ–ª–Ω–∏–º –≤—Ä–µ–º—è —Å–ª–æ—Ç–∞–º–∏ —Å 12:00 –¥–æ 23:00 —Å —à–∞–≥–æ–º 30 –º–∏–Ω—É—Ç
      function generateTimeSlots() {
        const slots = [];
        let start = new Date();
        start.setHours(12, 0, 0, 0);
        const end = new Date();
        end.setHours(23, 0, 0, 0);

        while (start <= end) {
          slots.push(start.toTimeString().slice(0, 5));
          start = new Date(start.getTime() + 30 * 60000);
        }
        return slots;
      }

      const timeSelect = document.getElementById('time');
      generateTimeSlots().forEach(t => {
        const opt = document.createElement('option');
        opt.value = t;
        opt.textContent = t;
        timeSelect.appendChild(opt);
      });

      // –£—Å—Ç–∞–Ω–æ–≤–∏–º —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É –∫–∞–∫ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–ª—è –≤—ã–±–æ—Ä–∞
      const dateInput = document.getElementById('date');
      const today = new Date().toISOString().split('T')[0];
      dateInput.min = today;
      dateInput.value = today;

      const bookingFormContainer = document.getElementById('booking-form-container');
      const bookingForm = document.getElementById('booking-form');
      const messageDiv = document.getElementById('message');
      const selectedTableSpan = document.getElementById('selected-table');

      // –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ
      document.querySelectorAll('.card button').forEach(button => {
        button.addEventListener('click', () => {
          const tableNumber = button.getAttribute('data-table');
          selectedTableSpan.textContent = "‚Ññ" + tableNumber;
          bookingFormContainer.style.display = "block";
          messageDiv.textContent = "";
          bookingForm.reset();
          // –ó–∞–ø–æ–ª–Ω–∏—Ç—å hidden –ø–æ–ª–µ –¥–ª—è —Å—Ç–æ–ª–∏–∫–∞
          bookingForm.dataset.table = tableNumber;
          // –ß—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–±—ã–≤–∞–ª, –º–æ–∂–Ω–æ –¥–∞–∂–µ –≤—ã–¥–µ–ª–∏—Ç—å —Å—Ç–æ–ª –≤ —Ñ–æ—Ä–º–µ
          // –ù–æ —É –Ω–∞—Å –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ–º –Ω–æ–º–µ—Ä
        });
      });

      bookingForm.addEventListener('submit', e => {
        e.preventDefault();
        messageDiv.textContent = "";

        const date = dateInput.value;
        const time = timeSelect.value;
        const guests = document.getElementById('guests').value;
        const table = bookingForm.dataset.table;

        if (!date || !time || !guests || !table) {
          messageDiv.textContent = "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.";
          return;
        }

        const bookingData = { date, time, table, guests };

        try {
          Telegram.WebApp.sendData(JSON.stringify(bookingData));
          messageDiv.textContent = "–ë—Ä–æ–Ω—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!";
          bookingFormContainer.style.display = "none";
        } catch (err) {
          messageDiv.textContent = "–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö: " + err.message;
        }
      });
    </script>
  </body>
</html>
